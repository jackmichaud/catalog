{% extends "base.html" %}

{% block title %}Create Group Conversation{% endblock %}

{% block content %}
<div class="page-container">
    <h1 class="page-title">Create Group Conversation</h1>

    <form method="post" class="form-container">
        {% csrf_token %}

        <div class="form-group">
            <label for="{{ form.name.id_for_label }}">Group Name:</label>
            {{ form.name }}
            {% if form.name.errors %}
            <div class="error-message">{{ form.name.errors }}</div>
            {% endif %}
        </div>

        <div class="form-group">
            <label>Select Participants:</label>
            <div class="participants-list">
                {{ form.participants }}
            </div>
            {% if form.participants.errors %}
            <div class="error-message">{{ form.participants.errors }}</div>
            {% endif %}
        </div>

        <button type="submit" class="btn btn-primary">Create Group</button>
    </form>
</div>

<style nonce="{{ request.csp_nonce }}">
    .participants-list {
        max-height: 300px;
        overflow-y: auto;
        border: 1px solid #ccc;
        padding: 10px;
        border-radius: 5px;
    }

    .participants-list label {
        display: block;
        margin-bottom: 5px;
        cursor: pointer;
    }

    .participants-list input[type="checkbox"] {
        margin-right: 10px;
    }
</style>
{% endblock %}